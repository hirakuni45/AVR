#ifndef GPSIO_H
#define GPSIO_H
//=====================================================================//
/*!	@file
	@breif	GPS 入出力関係（ヘッダー）
	@author	平松邦仁 (hira@rvf-rc45.net)
*/
//=====================================================================//
#include <stdio.h>
#include <stdlib.h>
#include "ff.h"
#include "time.h"

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++//
/*!
	@breif	SUP500F ボーレート設定パラメーター
 */
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++//
enum SUP500F_BAUD {
	BPS_4800   = 0,	///< 0: 4800
	BPS_9600   = 1,	///< 1: 9600
	BPS_19200  = 2,	///< 2: 19200
	BPS_38400  = 3,	///< 3: 38400
	BPS_57600  = 4,	///< 4: 57600
	BPS_115200 = 5,	///< 5: 115200
};


#ifdef __cplusplus
extern "C" {
#endif

	//-----------------------------------------------------------------//
	/*!
		@breif	GPS 初期化
	 */
	//-----------------------------------------------------------------//
	void gpsio_init(void);


	//-----------------------------------------------------------------//
	/*!
		@breif	GPS サービス
		@param[in]	fd	ファイル・ディスクリプタ
	 */
	//-----------------------------------------------------------------//
	void gpsio_service(FIL *fd);


	//-----------------------------------------------------------------//
	/*!
		@breif	GPS 状態の取得
		@return 「０」以外なら、GPS データ取得正常、「０」ならエラー
	 */
	//-----------------------------------------------------------------//
	char gpsio_get_status(void);


	//-----------------------------------------------------------------//
	/*!
		@breif	GPS で取得した標準時間を返す@n
				GPS がアクティブでは無い場合「０」が返される。
		@return 時間（秒）
	 */
	//-----------------------------------------------------------------//
	time_t gpsio_get_time(void);


	//-----------------------------------------------------------------//
	/*!
		@breif	GPS で取得した人工衛星の数を返す
		@return フォローしている人工衛星の数
	 */
	//-----------------------------------------------------------------//
	uint8_t gpsio_get_satellites(void);


	//-----------------------------------------------------------------//
	/*!
		@breif	SUP500F のボーレートを設定
		@param[in]	bpsno	ボーレート番号
	 */
	//-----------------------------------------------------------------//
	void gpsio_set_baudrate(enum SUP500F_BAUD bpsno);


	//-----------------------------------------------------------------//
	/*!
		@breif	SUP500F の１０Ｈｚ測位の設定
	 */
	//-----------------------------------------------------------------//
	void gpsio_set_rate10(void);



#ifdef __cplusplus
};
#endif

#endif // GPSIO_H
